<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <h:head>    
        <title>lazyDatatableImplementation</title>
        <link rel="shorcut icon" type="image/x-icon" href="#{resource['images/j.png']}"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

        <link href="../resources/css/myTokens.css" rel="stylesheet" type="text/css"/>
        <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet"/>

        <style>
            /*            .ui-widget-content {
                            background-image: url("img/topography.png");
                        }*/
        </style>
    </h:head>
    <h:body>
        <ui:insert name="sidemenu">
            <ui:include src="templates/sidemenu.xhtml"/>
        </ui:insert>

        <div style="margin-left:20%;padding:0px 0px;">
            <ui:insert name="navbar">
                <ui:include src="templates/navbar.xhtml"/>
            </ui:insert>
            <div style="margin: 15px 15px 15px 15px;">
                <ui:insert name="sidebarBottom">
                    <ui:include src="templates/sidebarBottom.xhtml"/>
                </ui:insert>
                <h:form id="form">
<!--                    <p:panel id="search" header="Search" style="font-size: 12px;">
                        <div class="ui-g ui-fluid">
                            <div class="ui-g-12 ui-md-4">
                                <div class="ui-inputgroup">
                                    <span class="ui-inputgroup-addon"><i class="fa fa-search"></i></span>
                                    <p:inputText maxlength="45" id="citizenshipNumberFilterValue" type="text" required="false" value="#{personBean.citizenshipNumberFilterValue}" placeholder="Citizenship Number" style="border-right: 1px solid #c0c0c0;"/>
                                    <p:commandButton process="@form" update=":form:users" value="Search" style="margin-left: 10px; border-radius: 30px !important;"/>
                                </div>
                            </div>
                        </div>
                    </p:panel>-->

                    <p:panel id="users" header="Users" style="font-size: 12px;">
                        <p:dataTable id="singleDT"
                                     var="lazyUser" 
                                     value="#{personBean.lazyModel}" 
                                     rows="10" 
                                     paginator="true" 
                                     paginatorPosition="bottom"
                                     style="font-size: 12px; text-align: center;" 
                                     rowIndexVar="rowIndex"
                                     lazy="true"
                                     currentPageReportTemplate="{startRecord}-{endRecord} records are listed. Totally: {totalRecords} records" 
                                     paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"> 
                            <p:column headerText="#" style="width: 10px; background-color: #EBEDF0 !important;">
                                <h:outputText value="#{rowIndex+1}" />
                            </p:column>
                            <p:column filterBy="#{lazyUser.isActive}" headerText="Status" style="width: 60px;" styleClass="#{lazyUser.isActive eq 'Active' ? 'green' : null} #{lazyUser.isActive eq 'Inactive' ? 'red' : null}">
                                <h:outputText value="#{lazyUser.isActive}"/>
                            </p:column>
                            <p:column filterBy="#{lazyUser.departmentInfoId.name}" headerText="Department">
                                <h:outputText value="#{lazyUser.departmentInfoId.name}"/>
                            </p:column>
                            <p:column filterBy="#{lazyUser.userType}" headerText="User Type" style="width: 70px;">
                                <h:outputText value="#{lazyUser.userType}"/>
                            </p:column>
                            <p:column filterBy="#{lazyUser.firstName} #{lazyUser.middleName} #{lazyUser.lastName}" headerText="Full Name">
                                <h:outputText value="#{lazyUser.firstName} #{lazyUser.middleName} #{lazyUser.lastName}"/>
                            </p:column>
                            <p:column filterBy="#{lazyUser.citizenshipNumber}" headerText="Citizenship Number">
                                <h:outputText value="#{lazyUser.citizenshipNumber}"/>
                            </p:column>
                            <p:column filterBy="#{lazyUser.email}" headerText="Email" style="width: 150px;">
                                <h:outputText value="#{lazyUser.email}"/>
                            </p:column>
                            <p:column filterBy="#{lazyUser.remark}" headerText="Remark">
                                <h:outputText value="#{lazyUser.remark}"/>
                            </p:column>

                        </p:dataTable>
                    </p:panel>
                </h:form>
            </div>
        </div>

        <script>
            $(function () {
                $('a').each(function () {
                    if ($(this).prop('href') == window.location.href) {
                        $(this).addClass('active');
                        $(this).parents('li').addClass('active');
                    }
                });
            });
        </script>
    </h:body>
</html>